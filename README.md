# AzurePipelineAsCode.NET

[![Build Status](https://christianederzuehlke.visualstudio.com/aprg%20Structurizr%20Infrastructure%20as%20Code/_apis/build/status/ChristianEder.azure-pipeline-as-code)](https://christianederzuehlke.visualstudio.com/aprg%20Structurizr%20Infrastructure%20as%20Code/_build/latest?definitionId=7)

[![AzurePipelineAsCode.NET](https://img.shields.io/nuget/v/AzurePipelineAsCode.NET.png "Latest nuget package for AzurePipelineAsCode.NET")](https://www.nuget.org/packages/AzurePipelineAsCode.NET/)

[Azure DevOps](https://azure.microsoft.com/en-us/services/devops/) allows us to codify build pipelines using [YAML files](https://docs.microsoft.com/en-us/azure/devops/pipelines/yaml-schema?view=vsts&tabs=schema). While YAML is nice and readable, it is not as shareable and reusable as regular code. This repository implements a **proof of concept** of defining Azure DevOps pipelines using C# code.

* The [azure-pipelines.yml](https://github.com/ChristianEder/azure-pipeline-as-code/blob/master/azure-pipelines.yml) of this repository is defined and generated by the C# code that can be found in the [Pipeline](https://github.com/ChristianEder/azure-pipeline-as-code/blob/master/Pipeline/Program.cs) project
* Pipelines can be defined in C# by using the [AzurePipelineAsCode.NET](https://www.nuget.org/packages/AzurePipelineAsCode.NET/) nuget package
* This nuget package is automatically generated by the Azure DevOps pipeline defined in this repository itself. To accomplish this, the [AzurePipelineTasks](https://github.com/ChristianEder/azure-pipeline-as-code/tree/master/AzurePipelineTasks) project uses Microsofts [azure-pipelines-tasks](https://github.com/Microsoft/azure-pipelines-tasks) repository as an input for generating the required code (specifically the task.json definition files in that repo) into the [AzurePipelineAsCode.NET](https://github.com/ChristianEder/azure-pipeline-as-code/tree/master/AzurePipelineAsCode.NET). This is used to package up the generated code into a nuget

The end goal would be to not have the generated .yml file checked in anymore, but generate it on demand during build time, which requires support by Azure DevOps.

Please note - this repository and the nuget package provided are meant as a _**proof of concept**_ - the code is incomplete, quick & dirty, and completely untested.
